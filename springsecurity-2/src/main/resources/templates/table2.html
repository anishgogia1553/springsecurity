<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>Schedular Details</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
	</script>
</head>

<body>
	<header>
		<nav class="navbar navbar-dark bg-dark">
			<a class="navbar-brand" href="#">IVFRT</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
				aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</nav>
	</header>
	<div class="container-fluid">
		<div class="row flex-nowrap">
			<div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
				<div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
					<a href="#"
						class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
						<span class="fs-5 d-none d-sm-inline">Menu</span>
					</a>
					<ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
						id="menu">
						<li class="nav-item">
							<a href="/schedulars" class="nav-link align-middle px-0">
								<i class="fs-4 bi-house"></i> <span class="ms-1 d-none d-sm-inline">Logs</span>
							</a>
						</li>
					</ul>

				</div>
			</div>
			<div class="col py-3">
				<select id="schedular_name" name="schedular_name">
					<option value="0">select option</option>
					<option th:each="main : ${mains}" th:value="${main.schedular_name}"
						th:text="${main.schedular_name}"></option>
				</select>
				<select id="status" name="status">
					<option value="0">select option</option>
					<option value="1">Success</option>
					<option value="0">Fail</option>
				</select>
				<select id="category" name="category">
					<option value="0">select option</option>
					<option th:each="category : ${categories}" th:value="${category.schedular_category}"
						th:text="${category.schedular_category}"></option>
				</select>
				<input type="date" id="status_date" name="status_date">
				<table style="width: auto;" class="table table-striped">
					<thead>
						<tr>
							<th scope="col">Schedular Name</th>
							<th scope="col">Status</th>
							<th scope="col">Schedular Category</th>
							<th scope="col">Status Date</th>
							<th scope="col">Total Transaction</th>
							<th scope="col">Success Count</th>
							<th scope="col">failure Count</th>
							<th scope="col">Execution Time(Seconds)</th>
							<th scope="col">Execution Schedule</th>
							<th scope="col">Log File</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="schedular : ${schedulars}">
							<td th:text="${schedular.schedular_name}"></td>
							<td th:text="${schedular.status}"></td>
							<td th:text="${schedular.schedular_category}"></td>
							<td th:text="${schedular.timestamp}"></td>
							<td th:text="${schedular.total_transactions}"></td>
							<td th:text="${schedular.success_count}"></td>
							<td th:text="${schedular.failure_count}"></td>
							<td th:text="${schedular.execution_time}"></td>
							<td th:text="${schedular.execution_schedule}"></td>

							<td><a th:href="@{/get-log(path=${schedular.log_file_path})}" th:target="_blank">Open</a>
							</td>


						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<script src="js/index.js"></script>
</body>

</html>